(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0baccc"],{"396f":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.dataset,callback:function(a){t.dataset=a},expression:"dataset"}},[e("validation-observer",{ref:"validation"},[e("v-form",{ref:"form",attrs:{enctype:"multipart/form-data",disabled:t.variation.isFetching},on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("v-card",[e("v-card-title",[t._v(" Variation ")]),e("v-card-text",[e("form-errors",{attrs:{error:t.variation.errors.message}}),e("div",{staticClass:"d-flex justify-center mb-3"},[e("image-selector",{attrs:{src:t.variation.data.image},on:{input:function(a){return t.variation.prestine(!1)}}})],1),e("validation-provider",{attrs:{vid:"properties"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("variation-property-selector",{attrs:{errors:r,requestOptions:t.variationRequestOptions},model:{value:t.variation.data.properties,callback:function(a){t.$set(t.variation.data,"properties",a)},expression:"variation.data.properties"}})]}}])}),e("validation-provider",{attrs:{vid:"description"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("v-textarea",{attrs:{"error-messages":r,label:"Description",name:"description",outlined:""},on:{input:function(a){return t.variation.prestine(!1)}},model:{value:t.variation.data.description,callback:function(a){t.$set(t.variation.data,"description",a)},expression:"variation.data.description"}})]}}])}),e("validation-provider",{attrs:{vid:"price"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("v-text-field",{attrs:{"error-messages":r,label:"Price",name:"price",type:"number",step:"0.01",outlined:""},on:{input:function(a){return t.variation.prestine(!1)}},model:{value:t.variation.data.price,callback:function(a){t.$set(t.variation.data,"price",a)},expression:"variation.data.price"}})]}}])}),e("input",{attrs:{type:"hidden",name:"product"},domProps:{value:t.$route.params.id}})],1),e("v-card-actions",[e("v-btn",{attrs:{color:"primary",type:"submit",loading:t.variation.isFetching,disabled:t.variation.isPrestine}},[t._v(" Save ")]),e("v-btn",{attrs:{text:""},on:{click:function(a){t.dataset=!1}}},[t._v(" Close ")])],1)],1)],1)],1)],1)},i=[],n=e("1da1"),o=e("5530"),s=(e("96cf"),e("d4ec")),d=e("262e"),c=e("2caf"),u=e("63c1"),v=function(t){Object(d["a"])(e,t);var a=Object(c["a"])(e);function e(t){var r;return Object(s["a"])(this,e),r=a.call(this,t),r.data={_id:"",image:"",properties:[],description:"",updatedAt:"",createdAt:""},r}return e}(u["a"]),p=e("6766"),l=e("2f62"),f={props:["value","edit"],computed:{dataset:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},variationRequestOptions:function(){return{url:p["a"].category.getGroupByParent(),params:{q:{type:"variation"}}}}},data:function(){return{variation:new v}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])({setSnackbar:"snackbar/set"})),{},{submit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,r,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e="post",r=p["a"].variation.main(),i="Variation created",console.log(t.variation.data),t.variation.data._id&&(e="patch",r=p["a"].variation.alone(t.variation.data._id),i="Variation updated"),a.next=5,t.variation.request({method:e,url:r,data:t.variation.readyData(t.$refs.form.$el)});case 5:if(n=a.sent,n){a.next=8;break}return a.abrupt("return",t.$refs.validation.setErrors(t.variation.errors.details));case 8:t.setSnackbar({model:!0,text:i,timeout:3e3}),t.$emit("success"),t.dialog=!1,t.variation.data={},t.variation.data.properties=[],t.dataset=!1;case 14:case"end":return a.stop()}}),a)})))()}}),mounted:function(){this.variation.fetch(!1),this.variation.load(!1)},watch:{edit:function(t){this.variation.data=t}}},m=f,b=e("2877"),h=e("6544"),g=e.n(h),x=e("8336"),k=e("b0af"),y=e("99d9"),w=e("169a"),V=e("4bd4"),O=e("8654"),_=e("a844"),$=Object(b["a"])(m,r,i,!1,null,null,null);a["default"]=$.exports;g()($,{VBtn:x["a"],VCard:k["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VDialog:w["a"],VForm:V["a"],VTextField:O["a"],VTextarea:_["a"]})}}]);
//# sourceMappingURL=chunk-2d0baccc.56f41eb1.js.map